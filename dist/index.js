{
  "template": {
    "type": "template",
    "content": "\n<div id=\"base-info\" v-bind:style=\"pdv.backgroundImage(backgrounImage)\">\n  <img class=\"back-icon\" src=\"../../../assets/imgs/order/back.png\" @click=\"goBack\" />\n\n  <div class=\"goods-info\">\n    <!--商品名称-->\n    <div class=\"product-name\">{{product.country}} {{product.visa_type}}·{{product.product_name}}</div>\n\n    <div class=\"tags-box\">\n      <div class=\"tag-item\" v-for=\"(item, index) in product.tag\" :key=\"index\">{{item}}</div>\n    </div>\n\n    <div class=\"features\">\n      <!-- 信息项 -->\n      <div class=\"feature-item\" v-for=\"item in product.common_info\" :key=\"item.title\">\n        <div class=\"item-title\" v-text=\"item.title\"></div>\n        <div>\n          <template v-if=\"item.type === 0\">\n            <span v-text=\"item.num\"></span>\n            <span v-text=\"item.unit\"></span>\n          </template>\n          <span v-else v-text=\"item.unit\"></span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"info-card\">\n      <div class=\"card-title\" @click=\"openDialog('needDays', true)\">\n        <div class=\"type-item\">\n          预计出签\n          <span class=\"red-text\">{{product.earliest_depart_date}}</span>\n        </div>\n        <div class=\"type-item\">\n          办理时长\n          <span\n            v-if=\"product.need_days !== product.need_days_longest\"\n            class=\"red-text\"\n          >{{product.need_days}}-{{product.need_days_longest}}</span>\n          <span\n            v-if=\"product.need_days === product.need_days_longest\"\n            class=\"red-text\"\n          >{{product.need_days}}</span>\n          工作日\n        </div>\n      </div>\n\n      <div class=\"card-content\">\n        <!--价格-->\n        <div class=\"price\">\n          <div class=\"left\">\n            <span class=\"icon\">￥</span>\n            <em\n              v-if=\"product.company_coupon && product.company_coupon.coupon_desc\"\n            >{{product.company_coupon.sell_price / 100}}</em>\n            <em\n              v-else-if=\"product.distributor_discount && product.distributor_discount.desc\"\n            >{{product.distributor_discount.price / 100}}</em>\n            <em v-else>{{product.sell_price / 100}}</em>\n            <span class=\"unit\">/人</span>\n          </div>\n          <div class=\"spec\">\n            <div\n              class=\"company-coupon\"\n              v-if=\"product.company_coupon\"\n            >{{product.company_coupon.coupon_desc}}</div>\n            <div\n              class=\"company-coupon\"\n              v-if=\"product.distributor_discount\"\n            >{{product.distributor_discount.desc}}</div>\n          </div>\n          <div class=\"right\">\n            <a @click=\"openDialog('priceDetail', true)\">价格明细</a>\n          </div>\n        </div>\n\n        <!-- 普通用户价格 -->\n        <div\n          class=\"origin-price\"\n          v-if=\"product.company_coupon && product.company_coupon.coupon_desc || product.distributor_discount && product.distributor_discount.desc\"\n        >\n          <span>￥{{product.sell_price / 100}}</span>\n        </div>\n\n        <div class=\"rate-box\">\n          <div class=\"number-box\">\n            <div class=\"numnber\">{{product.sales}}</div>\n            <div class=\"title\">已办理人数</div>\n          </div>\n\n          <div class=\"number-box\">\n            <div class=\"numnber\">{{successRate}}%</div>\n            <div class=\"title\">综合出签率</div>\n          </div>\n\n          <div class=\"number-box star-box\" @click=\"goReview\">\n            <stars :score=\"score\"></stars>\n            <div class=\"title star-title\">\n              评价({{reviews}})\n              <div class=\"iconfont icon-arrow_enter go-icon\" v-if=\"reviews\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"procedure-box\">\n      <div class=\"procedure-header\">\n        <div class=\"left-box\"></div>\n        <div class=\"right-box\" @click=\"openDialog('service', true)\">\n          查看更多\n          <div class=\"right-icon more\"></div>\n        </div>\n      </div>\n\n      <div class=\"procedure-container\" @click=\"openDialog('service', true)\">\n        <div class=\"procedure-item\" v-for=\"(item, idx) in procedureList\" :key=\"idx\">\n          <img :src=\"item.icon\" />\n          <div class=\"procedure-text\">{{item.title}}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- 各种浮层 -->\n  <div v-transfer-dom>\n    <!-- 办理时长浮层 need-days-dialog 下面有用到-->\n    <x-dialog class=\"common-dialog need-days-dialog\" v-model=\"popupSwitches.needDays\">\n      <div class=\"dialog-header\">办理时长</div>\n      <div class=\"dialog-content\">\n        <div class=\"days\">\n          <span\n            v-if=\"product.need_days !== product.need_days_longest\"\n          >{{product.need_days}}-{{product.need_days_longest}}</span>\n          <span v-if=\"product.need_days === product.need_days_longest\">{{product.need_days}}</span>\n          工作日\n        </div>\n        <div class=\"detail\">{{product.need_days_detail}}</div>\n      </div>\n      <div class=\"dialog-close\" @click=\"openDialog('needDays', false)\">知道了</div>\n    </x-dialog>\n\n    <!-- 费用明细浮层 price-detail-dialog 下面有用到 -->\n    <x-dialog class=\"common-dialog price-detail-dialog\" v-model=\"popupSwitches.priceDetail\">\n      <div class=\"dialog-header\">费用明细</div>\n      <div class=\"dialog-content\">\n        <div class=\"days\" v-if=\"product.company_coupon && product.company_coupon.coupon_desc\">\n          ￥{{product.company_coupon.sell_price / 100}}\n          <span\n            class=\"origin\"\n          >￥{{product.sell_price / 100}}</span>\n        </div>\n        <div\n          class=\"days\"\n          v-else-if=\"product.distributor_discount && product.distributor_discount.desc\"\n        >\n          ￥{{product.distributor_discount.price / 100}}\n          <span\n            class=\"origin\"\n          >￥{{product.sell_price / 100}}</span>\n        </div>\n        <div class=\"days\" v-else>￥{{product.sell_price / 100}}</div>\n        <div class=\"detail\">{{product.price_detail}}</div>\n      </div>\n      <div class=\"dialog-close\" @click=\"openDialog('priceDetail', false)\">知道了</div>\n    </x-dialog>\n\n    <!-- 服务特色 -->\n    <x-dialog class=\"common-dialog service-dialog\" v-model=\"popupSwitches.service\">\n      <div class=\"dialog-header\">服务特色</div>\n      <div class=\"dialog-content\">\n        <div class=\"serve-item\" v-for=\"(item, idx) in procedureList\" :key=\"idx\">\n          <img :src=\"item.icon\" class=\"icon\" />\n          <div class=\"content\" @click=\"goDesc(idx)\">\n            <div class=\"title\">{{item.title}}</div>\n            <div class=\"desc\">{{item.desc}}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"dialog-close\" @click=\"openDialog('service', false)\">知道了</div>\n    </x-dialog>\n  </div>\n</div>\n",
    "start": 10,
    "attrs": {},
    "end": 7058
  },
  "script": {
    "type": "script",
    "content": "\r\nimport { TransferDom, XDialog } from 'vux';\r\nimport stars from '../../../components/Stars';\r\n\r\nimport backgrounImage from '../../../assets/imgs/product//2.3.0/goods-bg.png';\r\nimport utils from '../../../util/utils';\r\n\r\nimport iconPrice from '../../../assets/imgs/product/2.3.0/icon-price.png';\r\nimport iconPhoto from '../../../assets/imgs/product/2.3.0/icon-photo.png';\r\nimport iconPhone from '../../../assets/imgs/product/2.3.0/icon-phone.png';\r\nimport iconCheck from '../../../assets/imgs/product/2.3.0/icon-check.png';\r\nimport iconFast from '../../../assets/imgs/product/2.3.0/icon-fast.png';\r\nimport iconPlus from '../../../assets/imgs/product/2.3.0/icon-plus.png';\r\n\r\nexport default {\r\n  name: 'productBasicInfo',\r\n  directives: {\r\n    TransferDom,\r\n  },\r\n  components: {\r\n    XDialog,\r\n    stars,\r\n  },\r\n  props: {\r\n    productId: Number,\r\n    product: Object,\r\n    passRate: {\r\n      type: Number,\r\n      default() {\r\n        return 10000;\r\n      },\r\n    },\r\n    reviews: {\r\n      type: Number,\r\n      default() {\r\n        return 99;\r\n      },\r\n    },\r\n    sumScore: {\r\n      type: Number,\r\n      default() {\r\n        return 100;\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      successRate: (Math.floor(this.passRate / 10) / 10)\r\n        .toFixed(1)\r\n        .replace('.0', ''),\r\n      backgrounImage,\r\n      popupSwitches: {\r\n        needDays: false,\r\n        priceDetail: false,\r\n        service: false,\r\n      },\r\n      score: this.getScore(),\r\n      procedureList: [\r\n        {\r\n          title: '拒签退全款',\r\n          icon: iconPrice,\r\n          desc: '发生拒签时，符合条件的申请人可享受拒签退全款服务，点击查看《拒签退全款说明》',\r\n        },\r\n        {\r\n          title: '免费证件照',\r\n          icon: iconPhoto,\r\n          desc: '手机拍摄智能生成证件照，无需前往照相馆，证件照费用全免。',\r\n        },\r\n        {\r\n          title: '手机上传资料',\r\n          icon: iconPhone,\r\n          desc: '手机拍照即可上传资料，在线填写签证申请表，免去打印烦恼。',\r\n        },\r\n        {\r\n          title: '专家审核资料',\r\n          icon: iconCheck,\r\n          desc: '签证专家在线审核资料，提升您的签证通过率。',\r\n        },\r\n        {\r\n          title: '急速送签使馆',\r\n          icon: iconFast,\r\n          desc: '资料审核后直接送签使馆，给您更快的出签速度！',\r\n        },\r\n        {\r\n          title: '数据高级加密',\r\n          icon: iconPlus,\r\n          desc: '资料数据采用AES高级加密标准，确保您的资料安全。',\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    parseInt,\r\n    openDialog(switchName, open) {\r\n      this.popupSwitches[switchName] = open;\r\n\r\n      const name = {\r\n        priceDetail: '.price-detail-dialog',\r\n        needDays: '.need-days-dialog',\r\n      };\r\n\r\n      // 注意此处的classname\r\n      utils.disableMaskScrollBody(name[switchName]);\r\n    },\r\n    goBack() {\r\n      if (history.length > 2) {\r\n        history.go(-1);\r\n      } else {\r\n        this.$router.replace({\r\n          name: 'ProductList',\r\n          params: { countryId: this.product.visa_country_id },\r\n        });\r\n      }\r\n    },\r\n    getScore() {\r\n      if (this.reviews && this.reviews !== 0) {\r\n        return this.sumScore / this.reviews;\r\n      }\r\n      return 5;\r\n    },\r\n    goReview() {\r\n      if (this.reviews) {\r\n        this.$router.push({\r\n          name: 'Review',\r\n          params: { productId: this.productId },\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n",
    "start": 7081,
    "attrs": {},
    "end": 10259
  },
  "styles": [
    {
      "type": "style",
      "content": "\r\n@import \"./assets/styles/mixin.less\";\r\n\r\n#base-info {\r\n  background-size: 100%;\r\n  background-repeat: no-repeat;\r\n  width: 100%;\r\n  color: @white;\r\n  font-size: 0.4rem;\r\n  padding-top: 0.75rem;\r\n  padding-bottom: 0.2rem;\r\n\r\n  .back-icon {\r\n    width: 0.48rem;\r\n    height: 0.48rem;\r\n    position: absolute;\r\n    left: 0.2rem;\r\n    top: 0.15rem;\r\n  }\r\n\r\n  .goods-info {\r\n    padding: 0 0.24rem;\r\n  }\r\n\r\n  .product-name {\r\n    font-size: 0.4rem;\r\n    line-height: 0.44rem;\r\n    -webkit-line-clamp: 2;\r\n    display: -webkit-box;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    -webkit-box-orient: vertical;\r\n    p {\r\n      text-align: center;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      display: -webkit-box;\r\n      -webkit-line-clamp: 2;\r\n      -webkit-box-orient: vertical;\r\n      line-height: 0.6rem;\r\n      height: 1.2rem;\r\n    }\r\n  }\r\n\r\n  .tags-box {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-top: 0.11rem;\r\n    transform: translateX(-0.12rem);\r\n    .tag-item {\r\n      font-size: 0.22rem;\r\n      background-color: rgba(0, 0, 0, 0.1);\r\n      padding: 0.07rem 0.13rem;\r\n      margin-top: 0.12rem;\r\n      margin-left: 0.12rem;\r\n    }\r\n  }\r\n\r\n  .features {\r\n    text-align: center;\r\n    margin: auto;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 0.22rem;\r\n    margin-top: 0.49rem;\r\n\r\n    .feature-item {\r\n      flex: 1;\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n    }\r\n    .item-title {\r\n      color: rgba(255, 255, 255, 0.6);\r\n      margin-right: 0.05rem;\r\n    }\r\n    span {\r\n      color: #ffffff;\r\n    }\r\n  }\r\n\r\n  .info-card {\r\n    background-color: #ffffff;\r\n    box-shadow: 0rem 0.08rem 0.32rem 0rem rgba(0, 0, 0, 0.08);\r\n    border-radius: 0.16rem;\r\n    margin-top: 0.26rem;\r\n    overflow: hidden;\r\n    .card-title {\r\n      background-color: #fff9ec;\r\n      display: flex;\r\n      flex-direction: row;\r\n      height: 0.8rem;\r\n      align-items: center;\r\n      padding-left: 0.68rem;\r\n      background-image: url(\"../../../assets/imgs/product/2.3.0/warn.png\");\r\n      background-repeat: no-repeat;\r\n      background-position: 0.24rem center;\r\n      background-size: 0.32rem 0.34rem;\r\n      position: relative;\r\n      &::after {\r\n        content: \"\";\r\n        background-image: url(\"../../../assets/imgs/product/2.3.0/question-mark.png\");\r\n        background-repeat: no-repeat;\r\n        width: 0.43rem;\r\n        height: 0.43rem;\r\n        background-size: cover;\r\n        position: absolute;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        right: 0.24rem;\r\n      }\r\n      .type-item {\r\n        font-size: 0.24rem;\r\n        color: #333333;\r\n        & + .type-item {\r\n          margin-left: 0.24rem;\r\n        }\r\n        .red-text {\r\n          display: inline-block;\r\n          margin-left: 0.09rem;\r\n          margin-right: 0.06rem;\r\n          color: #fc4d52;\r\n        }\r\n      }\r\n    }\r\n    .card-content {\r\n      padding: 0.4rem 0.24rem;\r\n    }\r\n  }\r\n  .price {\r\n    padding: 0 0.24rem;\r\n    width: 100%;\r\n    display: flex;\r\n    .left {\r\n      display: flex;\r\n      color: #333333;\r\n      align-items: baseline;\r\n      font-size: 0.64rem;\r\n      .icon {\r\n        font-size: 0.36rem;\r\n        margin-right: 0.04rem;\r\n        display: inline-block;\r\n      }\r\n      .unit {\r\n        font-size: 0.32rem;\r\n        color: #999999;\r\n      }\r\n    }\r\n    .spec {\r\n      align-self: flex-start;\r\n      display: flex;\r\n      align-items: center;\r\n      background-image: url(\"../../../assets/imgs/product/2.3.0/spec.png\");\r\n      background-repeat: no-repeat;\r\n      background-size: cover;\r\n      transform: translateY(0.2rem);\r\n      border-top-right-radius: 0.04rem;\r\n      border-bottom-right-radius: 0.04rem;\r\n      .company-coupon {\r\n        font-size: 0.2rem;\r\n        color: #ffffff;\r\n        padding: 0.1rem 0.08rem 0.1rem 0.2rem;\r\n      }\r\n    }\r\n    .right {\r\n      flex: 1;\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      align-items: center;\r\n      a {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        border-radius: 0.24rem;\r\n        border: solid 0.02rem #e0e0e0;\r\n        font-size: 0.24rem;\r\n        color: #333333;\r\n        padding: 0.12rem 0.16rem;\r\n      }\r\n    }\r\n  }\r\n  .origin-price {\r\n    display: flex;\r\n    align-items: center;\r\n    font-size: 0.28rem;\r\n    padding-left: 0.45rem;\r\n    color: #aaaaaa;\r\n    span {\r\n      text-decoration: line-through;\r\n    }\r\n  }\r\n  .rate-box {\r\n    padding: 0 0.24rem 0 0.48rem;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 0.3rem;\r\n    padding-top: 0.4rem;\r\n    border-top: 1px solid #f0f0f0;\r\n\r\n    .number-box {\r\n      flex: 1;\r\n      &.star-box {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n      }\r\n      .numnber {\r\n        font-size: 0.32rem;\r\n        color: #333333;\r\n        font-weight: 600;\r\n      }\r\n      .title {\r\n        font-size: 0.24rem;\r\n        color: #999999;\r\n        margin-top: 0.2rem;\r\n        &.star-title {\r\n          display: flex;\r\n          align-items: center;\r\n          margin-top: 0.26rem;\r\n          .icon-arrow_enter {\r\n            color: #f6f6f6;\r\n            font-weight: 800;\r\n            margin-left: 0.06rem;\r\n            transform: translateY(0.02rem);\r\n            &.go-icon {\r\n              font-size: 0.18rem;\r\n              color: @go-icon-color;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .procedure-box {\r\n    display: flex;\r\n    flex-direction: column;\r\n    background-color: #fffafa;\r\n    border-radius: 0.16rem;\r\n    border: solid 0.01rem @primary;\r\n    padding-top: 0.16rem;\r\n    position: relative;\r\n    margin-top: 0.2rem;\r\n    .procedure-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      padding-left: 0.08rem;\r\n      .left-box {\r\n        width: 2.47rem;\r\n        height: 0.56rem;\r\n        background-image: url(\"../../../assets/imgs/product/2.3.0/procedure-header.png\");\r\n        background-size: cover;\r\n        background-repeat: no-repeat;\r\n        background-position: 0 0.15rem;\r\n      }\r\n      .right-box {\r\n        width: 1.68rem;\r\n        height: 0.56rem;\r\n        background-image: url(\"../../../assets/imgs/product/2.3.0/more-view.png\");\r\n        background-size: cover;\r\n        background-repeat: no-repeat;\r\n        position: absolute;\r\n        right: -0.08rem;\r\n        top: 0.16rem;\r\n        font-size: 0.28rem;\r\n        color: #ffffff;\r\n        padding-left: 0.15rem;\r\n        padding-top: 0.08rem;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        .right-icon {\r\n          width: 0.1rem;\r\n          height: 0.18rem;\r\n          background-size: cover;\r\n          background-repeat: no-repeat;\r\n          &.more {\r\n            background-image: url(\"https://o.666visa.cn/static/pdvwxa/visa-detail/more-right-icon.png\");\r\n            margin-left: 0.1rem;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .procedure-container {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      padding: 0.23rem 0.22rem 0.45rem;\r\n      .procedure-item {\r\n        width: 2.18rem;\r\n        height: 1.23rem;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        image {\r\n          margin: 0.4rem auto 0.15rem;\r\n          width: 0.6rem;\r\n          height: 0.6rem;\r\n        }\r\n        .procedure-text {\r\n          font-size: 0.24rem;\r\n          color: #666666;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n",
      "start": 10298,
      "attrs": {
        "lang": "less",
        "scoped": true
      },
      "lang": "less",
      "scoped": true,
      "end": 17870
    },
    {
      "type": "style",
      "content": "\r\n.need-days-dialog {\r\n  .days {\r\n    font-size: 0.24rem;\r\n    color: @text-gray;\r\n\r\n    span {\r\n      font-size: 0.48rem;\r\n      color: @primary;\r\n    }\r\n  }\r\n\r\n  .detail {\r\n    font-size: 0.28rem;\r\n    line-height: 0.48rem;\r\n    margin-top: 0.3rem;\r\n    color: @text-silver;\r\n  }\r\n}\r\n\r\n.price-detail-dialog {\r\n  .price-detail-dialog {\r\n    .weui-dialog {\r\n      max-width: 80%;\r\n    }\r\n  }\r\n  .days {\r\n    font-size: 0.48rem;\r\n    color: @text-red;\r\n\r\n    span.origin {\r\n      font-size: 0.24rem;\r\n      color: @text-gray;\r\n      text-decoration: line-through;\r\n      margin-left: 0.08rem;\r\n    }\r\n  }\r\n\r\n  .detail {\r\n    font-size: 0.28rem;\r\n    line-height: 0.48rem;\r\n    margin-top: 0.3rem;\r\n    color: @text-silver;\r\n  }\r\n}\r\n\r\n.service-dialog {\r\n  .dialog-content {\r\n    max-height: 300px;\r\n    overflow-y: auto;\r\n    padding-bottom: 0;\r\n    .serve-item {\r\n      display: flex;\r\n      margin-bottom: 0.5rem;\r\n      .icon {\r\n        width: 0.4rem;\r\n        height: 0.4rem;\r\n        margin-right: 0.3rem;\r\n        transform: translateY(-0.06rem);\r\n      }\r\n      .content {\r\n        display: flex;\r\n        flex-direction: column;\r\n        max-width: 5.35rem;\r\n        .title {\r\n          font-size: 0.32rem;\r\n          color: #333333;\r\n          text-align: left;\r\n          font-weight: 600;\r\n          margin-bottom: 0.20rem;\r\n        }\r\n        .desc {\r\n          font-size: 0.28rem;\r\n          line-height: 0.40rem;\r\n          color: #666666;\r\n          text-align: left;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n",
      "start": 17901,
      "attrs": {
        "lang": "less"
      },
      "lang": "less",
      "end": 19418
    },
    {
      "type": "style",
      "content": "\r\n@media screen and (min-width: 768px) {\r\n  .price-detail-dialog {\r\n    .weui-dialog {\r\n      width: 50%;\r\n    }\r\n  }\r\n}\r\n",
      "start": 19449,
      "attrs": {
        "lang": "less"
      },
      "lang": "less",
      "end": 19571
    }
  ],
  "customBlocks": [],
  "errors": []
}